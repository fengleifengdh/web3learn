一、什么情况下应该使用 uint 或 int？
如果需要存储非负整数，比如物品数量、数组索引等，并且确定不会出现负数的情况，应使用uint（无符号整数）。而当需要存储可能为正或负的整数时，比如表示温度变化差值等场景，使用int（有符号整数）。
二、如何选择存储以太坊地址使用的数据结构？
在 Solidity 中，存储以太坊地址应使用address数据类型。它专门用于存储以太坊账户地址，可以进行一些地址相关的操作，如判断地址是否为零地址等。
三、在何时使用 string 与 bytes？
当需要存储可变长度的文本数据，并且可能需要进行字符编码相关的操作时，使用string。例如存储用户输入的备注信息等。而当处理不需要字符编码的原始字节数据时，比如哈希值、二进制数据等，使用bytes。它更加灵活，并且在处理纯二进制数据时，相比string更节省空间和 Gas 成本。
四、数组在 Solidity 中应用场景是什么？
数组在 Solidity 中用于存储相同类型的元素列表。适用于需要存储多个值的情况，比如记录用户的状态变化历史、签到记录等。可以通过索引方便地访问数组中的元素。
五、为何以及如何使用 mapping？
使用mapping是因为它可以创建键值对映射，非常适合用于存储关联数据，查找复杂度低。例如，mapping(int => address) public balances;可以将整数类型的键映射到以太坊地址类型的值，用于存储用户的余额。在使用时，通过指定键可以快速访问对应的值，无需遍历整个数据结构。
六、struct 的用途及实例？
struct允许创建自定义的数据结构，包含多个不同类型的字段。适用于复杂数据组合的场景，比如定义一个Person结构体来存储人的姓名和年龄，struct Person { string name; uint age; }。这样可以将相关的数据组合在一起，提高代码的可读性和可维护性。
七、使用 enum 的场景和好处？
enum用于定义命名常量，适用于有限选项的情况。例如定义一个状态枚举enum Status { Pending, Approved, Rejected }，可以限制变量的取值范围，减少输入错误的可能性，提高代码的可维护性和错误预防。
八、设计合约时如何考虑存储和 Gas 成本？
在设计合约时，应选择高效的数据结构以减少存储和执行成本。例如，在大量数据查找的情况下，mapping通常比数组更节省 Gas 成本。同时，避免不必要的数据存储和复杂的计算操作，以降低 Gas 消耗。
九、如何根据数据访问模式选择数据结构？
根据合约的数据访问频率和类型选择数据结构。如果数据频繁变动且需要快速查找和更新，可能更适合使用mapping。如果数据是静态的或者需要顺序访问，比如遍历所有元素，适合使用数组。
十、在复杂合约中选择数据结构的考虑因素有哪些？
在复杂合约中，需要评估合约的功能和需求，选择可以支持这些功能的数据结构。可能需要结合使用多种数据结构，如struct、mapping等。考虑数据的存储方式、访问模式、Gas 成本等因素，以确保合约的高效性和可维护性。
十一、如何决定使用固定长度数组还是动态数组？
如果事先知道数组的最大长度，并且这个长度不会变化，使用固定长度数组可以节省 Gas 成本。因为固定长度数组在存储和访问时更加高效。如果数组长度会动态变化，比如用户可以随时添加或删除元素，应选择动态数组。
十二、mapping 和 array 主要区别及使用场景？
mapping用于快速查找和更新键值对，适用于需要快速访问特定键对应的值的场景，比如存储账户余额等。而array适用于元素顺序重要或者需要迭代处理的场景，比如存储交易历史记录等。
十三、如何利用 struct 在 Solidity 中模拟传统的数据库表？
可以使用struct来定义表的列，例如定义一个包含多个字段的结构体表示数据库表的一行数据。然后使用mapping或者数组来存储struct实例，以模拟数据库表的存储和访问方式。
十四、enum 如何帮助降低错误的发生？
通过限制取值范围，enum可以减少输入错误的可能性。例如，在定义状态枚举时，只能使用预定义的状态值，避免了使用无效状态导致的错误。同时，提高了代码的可维护性，使得代码更易于理解和修改。
十五、bytes 什么时候比 string 优先级高？
在处理不需要字符处理的纯二进制数据时，bytes比string优先级高。因为bytes不涉及 UTF-8 编码处理，更节省空间和 Gas 成本。
十六、存储时间的最佳数据结构？
在 Solidity 中，uint256是存储时间戳的最常见方法。因为它可以直接与 Ethereum 虚拟机的时间函数兼容，方便进行时间相关的操作和比较。
十七、何时应考虑将数据封装在 struct 内部？
当数据项逻辑上属于同一实体或需要一起处理时，应将它们封装在一个struct内部。这样可以增加代码的可读性和可维护性，同时也方便对相关数据进行统一的操作和管理。
十八、mapping 是否支持迭代？怎么迭代？
mapping不支持直接迭代。如果需要迭代mapping，可以维护一个单独的数组来存储所有的键，然后通过遍历这个数组来间接迭代mapping。
十九、设计一个包含多种资产类型的钱包合约，应用哪种数据结构？
对于包含多种资产类型的钱包合约，可以使用mapping将资产类型映射到另一个mapping（address => uint256），用于存储用户地址到余额的映射。这样可以方便地管理不同资产类型的余额，并且支持快速查找和更新。
二十、enum 定义状态时，应如何处理状态的转换逻辑？
当使用enum定义状态时，在状态转换函数中应包含状态验证逻辑，确保状态转换按照预定的流程进行。例如，在状态转换函数中检查当前状态是否允许转换到目标状态，如果不允许则抛出错误。这样可以保证状态的正确性和一致性。